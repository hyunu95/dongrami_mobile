<!doctype html>
<html class="no-js" lang="zxx">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>App Landing Template </title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- <link rel="manifest" href="site.webmanifest"> -->
	<link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico">
    <!-- Place favicon.ico in the root directory -->

   <!-- CSS here -->
   <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
   <link rel="stylesheet" th:href="@{/css/owl.carousel.min.css}">
   <link rel="stylesheet" th:href="@{/css/slicknav.css}">
   <link rel="stylesheet" th:href="@{/css/animate.min.css}">
   <link rel="stylesheet" th:href="@{/css/magnific-popup.css}">
   <link rel="stylesheet" th:href="@{/css/fontawesome-all.min.css}">
   <link rel="stylesheet" th:href="@{/css/themify-icons.css}">
   <link rel="stylesheet" th:href="@{/css/themify-icons.css}">
   <link rel="stylesheet" th:href="@{/css/slick.css}">
   <link rel="stylesheet" th:href="@{/css/style.css}">
   <link rel="stylesheet" th:href="@{/css/responsive.css}">
   <link rel="stylesheet" th:href="@{/css/nav.css}">
   <link rel="stylesheet" th:href="@{/css/editprofile.css}">
</head>

<body>
	<header>
	        <!-- Header Start -->
	       <div class="header-area header-transparrent ">
	            <div class="main-header header-sticky">
	                <div class="container">
	                    <div class="row align-items-center">
	                        <!-- Logo -->
	                        <div class="col-xl-2 col-lg-2 col-md-2">
	                            <div class="logo">
	                                <a th:href="@{/}" class="logo-text">CIRCLE TAROT</a>
	                                <div class="hover-content">
	                                    <span class="hover-text left-text">동그</span>
	                                    <div class="logo-image"></div>
	                                    <span class="hover-text right-text">라미</span>
	                                </div>
	                            </div>
	                        </div>
	                        <div class="col-xl-10 col-lg-10 col-md-10">
	                            <!-- Main-menu -->
	                            <div class="main-menu f-right d-none d-lg-block">
	                                <nav>
	                                    <ul id="navigation">    
	                                        <li class="active"><a th:href="@{/}"> Home</a></li>
	                                        <li><a th:href="@{/tarotlist}">타로 보러가기</a></li>
	                                        <li><a th:href="@{/vote}">논쟁 투표</a></li>
	                                        <li><a th:href="@{/review}">리뷰</a></li>
											<li style="margin-right: -100px;" th:if="${session.loggedInUser == null}">
											     <a th:href="@{/login}">로그인 / 회원가입</a>
											</li>
											<li class="dropdown" style="margin-right: -100px;" th:if="${session.loggedInUser != null}">
											     <a href="#" class="dropdown-toggle">
											          <img src="/images/mainlogo.png" alt="프로필 이미지" class="profile-img">
											          <span th:text="${session.loggedInUser.nickname}">사용자 이름</span>
											     </a>
											     <ul class="dropdown-menu">
											     	<li><a th:href="@{/mypage}">마이페이지</a></li>
											     	<li><a th:href="@{/logout}">로그아웃</a></li>
											   </ul>
										  </li>
	                                </nav>
	                            </div>
	                        </div>
	                        <!-- Mobile Menu -->
	                        <div class="col-12">
	                            <div class="mobile_menu d-block d-lg-none"></div>
	                        </div>
	                    </div>
	                </div>
	            </div>
	       </div>
	        <!-- Header End -->
	    </header>

		<section>
		    <!-- Slider Area Start-->
		    <div class="services-area">
		        <div class="container">
		            <!-- Section-tittle -->
		            <div class="row d-flex justify-content-center">
		                <div class="col-lg-8">
		                    <div class="section-tittle text-center mb-80">
		                        <h2>회원 정보 수정</h2>
		                    </div>
		                </div>
		            </div>
		        </div>
		    </div>
		    <!-- Slider Area End-->

		    <section class="contact-section">
		        <div class="row justify-content-center align-items-center">
		            <div class="col-lg-6">
		                <div class="box-container">
		                    <!-- Form 시작 -->
		                    <form th:action="@{/editprofile/update}" th:object="${memberDTO}" method="post">
		                        <div class="change-box">
		                            <div class="menu">
		                                <!-- 아이디(이메일) -->
		                                <div class="id">
		                                    <input type="text" class="form-control" th:field="*{email}" readonly
		                                           placeholder="아이디(이메일 형식)">
		                                </div>
		                                <!-- 비밀번호 -->
		                                <div class="password">
		                                    <input type="password" class="form-control" th:field="*{password}"
		                                           placeholder="비밀번호">
		                                </div>
		                                <!-- 비밀번호 확인 -->
		                                <div class="password-check">
		                                    <input type="password" class="form-control" th:field="*{password2}"
		                                           placeholder="비밀번호 확인">
		                                </div>
		                                <!-- 이름(닉네임) -->
		                                <div class="name">
		                                    <input type="text" class="form-control" th:field="*{nickname}"
		                                           placeholder="이름">
		                                </div>
										<div class="birth" id="info__birth">
										    <select class="form-control box select2" id="birthYear" th:field="*{birthYear}">
										        <option value="" disabled selected>출생 연도</option>
										        <option th:each="year : ${#numbers.sequence(1950, 2024)}" th:value="${year}" th:text="${year}"></option>
										    </select>
										    <select class="form-control box select2" id="birthMonth" th:field="*{birthMonth}">
										        <option value="" disabled selected>월</option>
										        <option th:each="month : ${#numbers.sequence(1, 12)}" th:value="${month}" th:text="${month}"></option>
										    </select>
										    <select class="form-control box select2" id="birthDay" th:field="*{birthDay}">
										        <option value="" disabled selected>일</option>
										        <option th:each="day : ${#numbers.sequence(1, 31)}" th:value="${day}" th:text="${day}"></option>
										    </select>
										</div>
		                                <!-- 휴대전화번호 -->
		                                <div class="phonenumber">
		                                    <input type="text" class="form-control text" th:field="*{phoneNumber}"
		                                           placeholder="휴대전화번호">
		                                </div>
		                            </div>

		                            <!-- 비밀번호 불일치 에러 메시지 -->
		                            <div th:if="${passwordError}" class="alert alert-danger" role="alert">
		                                <p th:text="${passwordError}"></p>
		                            </div>

									<div class="changebutton mt-4">
									    <input type="submit" value="회원 정보 저장" class="btn btn-lg save-button"
									           style="background-color: #7150BD;" onclick="showUpdateModal()">
									</div>
		                        </div>
		                    </form>
		                    <!-- Form 끝 -->

		                    <!-- 회원 탈퇴 form 시작 -->
							<form th:action="@{/editprofile/delete}" method="post" id="deleteForm">
							    <div class="changebutton mt-4">
							        <input type="button" value="회원 탈퇴" class="btn btn-lg withdraw-button"
							               style="background-color: #7150BD;" onclick="showDeleteModal()">
		                        </div>
		                    </form>
		                    <!-- 회원 탈퇴 form 끝 -->

		                </div>
		            </div>
		        </div>
		    </section>
		</section>
		
		<!-- 회원 정보 수정 완료 모달 -->
		<div class="modal fade" id="updateModal" tabindex="-1" role="dialog" aria-labelledby="updateModalLabel"
		     aria-hidden="true">
		    <div class="modal-dialog modal-dialog-centered" role="document">
		        <div class="modal-content">
		            <div class="modal-header">
		                <h5 class="modal-title" id="updateModalLabel">회원 정보 수정</h5>
		            </div>
		            <div class="modal-body">
		                회원 정보 수정이 완료되었습니다!
		            </div>
		            <div class="modal-footer">
		                <button type="button" class="btn btn-primary" data-dismiss="modal">확인</button>
		            </div>
		        </div>
		    </div>
		</div>

		<!-- 회원 탈퇴 확인 모달 -->
		<div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel"
		     aria-hidden="true">
		    <div class="modal-dialog modal-dialog-centered" role="document">
		        <div class="modal-content-out">
		            <div class="modal-header-out">
		                <h5 class="modal-title-out" id="deleteModalLabel">회원 탈퇴</h5>
		            </div>
		            <div class="modal-body-out">
		                정말 탈퇴하시겠습니까?
		            </div>
		            <div class="modal-footer-out">
						<button type="button" class="btn btn-first-out" onclick="confirmDelete()">네</button>
		                <button type="button" class="btn btn-secondary-out" data-dismiss="modal">아니오</button>
		            </div>
		        </div>
		    </div>
		</div>
	    
	<footer>
	    <!-- Footer Start-->
	    <div class="footer-main">
	        <div class="footer-area footer-padding">
	            <hr class="gray-line">
	            <div class="container">
	                
	                <div class="row justify-content-between">
	                    <div class="col-lg-3 col-md-4 col-sm-8">
	                        <div class="single-footer-caption mb-30">
	                            <!-- logo -->
	                            <div class="footer-logo">
	                                <div class="logo">
	                                    <a href="#" class="logo-text">CIRCLE TAROT</a>
	                                </div>
	                            </div>
	                        </div>
	                    </div>
	                </div>
	                <!-- Copy-Right -->
	                <div class="row align-items-center">
	                    <div class="col-xl-12">
	                        <div class="footer-copy-right">
	                            <p>
	                                <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
	                                Copyright &copy;<script>document.write(new Date().getFullYear());</script>
	                                All rights reserved | This template is made with <i class="ti-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">DongramiTarot</a>
	                                <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
	                            </p>
	                        </div>
	                    </div>
	                </div>
	            </div>
	        </div>
	        <!-- Footer End-->
	    </div>
	</footer>

    <!-- JS here -->
	
		<!-- All JS Custom Plugins Link Here here -->
        <script th:src="@{/js/vendor/modernizr-3.5.0.min.js}"></script>
		
		<!-- Jquery, Popper, Bootstrap -->
		<script th:src="@{/js/vendor/jquery-1.12.4.min.js}"></script>
        <script th:src="@{/js/popper.min.js}"></script>
        <script th:src="@{/js/bootstrap.min.js}"></script>
	    <!-- Jquery Mobile Menu -->
        <script th:src="@{/js/jquery.slicknav.min.js}"></script>

		<!-- Jquery Slick , Owl-Carousel Plugins -->
        <script th:src="@{/js/owl.carousel.min.js}"></script>
        <script th:src="@{/js/slick.min.js}"></script>
        
		<!-- One Page, Animated-HeadLin -->
        <script th:src="@{/js/wow.min.js}"></script>
		<script th:src="@{/js/animated.headline.js}"></script>
		
		<!-- Scrollup, nice-select, sticky -->
        <script th:src="@{/js/jquery.scrollUp.min.js}"></script>
		<script th:src="@{/js/jquery.sticky.js}"></script>
        <script th:src="@{/js/jquery.magnific-popup.js}"></script>

        <!-- contact js -->
        <script th:src="@{/js/contact.js}"></script>
        <script th:src="@{/js/jquery.form.js}"></script>
        <script th:src="@{/js/jquery.validate.min.js}"></script>
        <script th:src="@{/js/mail-script.js}"></script>
        <script th:src="@{/js/jquery.ajaxchimp.min.js}"></script>
        
		<!-- Jquery Plugins, main Jquery -->	
        <script th:src="@{/js/plugins.js}"></script>
        <script th:src="@{/js/maineditprofile.js}"></script>
		
		<script th:src="@{/js/editprofile.js}"></script>
        
		<script>
			function showUpdateModal() {
			    $('#updateModal').modal('show');
			}

			function showDeleteModal() {
			    $('#deleteModal').modal('show');
			}

			function confirmDelete() {
			    document.getElementById('deleteForm').submit();
			}
		</script>
    </body>
    
    </html>
